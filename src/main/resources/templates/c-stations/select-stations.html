<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8"/>
    <title>Wybierz stację kosmiczną</title>
    <link
            th:href="@{'https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css'}"
            rel="stylesheet"/>
    <style>
        .dark-blue {background-color: #5D84B0;height: 80px;}

        .dark-blue .navbar-item {line-height: 60px;}

        .dark-blue .title {font-size: 1.75rem;font-weight: bold;color: #fff;}

        .dark-blue .right-text {color: #fff;}

        .navbar { height: 60px; display: flex; align-items: center; }

        .container { padding: 20px 0; }

        h2 { text-align: center; margin-bottom: 1rem; }

        .table-simple { background: #f5f5f5; padding: 10px; border-radius: 4px; margin-bottom: 1rem; }

        .table-simple th, .table-simple td { font-size: 0.9rem; padding: 0.5rem; }

        .button {border-radius: 50px;width: 100px;}

        .pagination-sm .page-link { padding: 0.25rem 0.5rem; font-size: 0.85rem; }

        .dark-blue .navbar-item {line-height: 60px;}

    </style>
</head>
<body class="d-flex flex-column vh-100">

<nav class="navbar dark-blue px-4">
    <a th:href="@{/missions/new}" class="navbar-item text-decoration-none">
        <span class="text-white">Wyloguj się</span>
    </a>
    <span class="navbar-item mx-auto title">
      System zarządzania statkami kosmicznymi
    </span>
    <span class="navbar-item right-text">
      Stworzenie nowej stacji
    </span>
</nav>

<main class="container flex-grow-1">
    <h2>Wybierz stację kosmiczną</h2>

    <div class="table-simple">
        <table class="table mb-0">
            <thead>
            <tr>
                <th>Id</th>
                <th>Nazwa</th>
                <th>Masa</th>
                <th>Orbita</th>
                <th>Moc</th>
                <th>Start</th>
                <th>Status</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="st : ${stations}">
                <td th:text="${st.id}">1</td>
                <td th:text="${st.name}">Nazwa 1</td>
                <td th:text="${st.mass}">84932</td>
                <td th:text="${st.orbitalAltitude}">200000</td>
                <td th:text="${st.powerCapacityKW}">164321</td>
                <td th:text="${#dates.format(st.launchDate,'dd-MM-yyyy HH:mm')}">
                    07-04-2022 13:15
                </td>
                <td th:text="${st.operationalStatus}">ACTIVE</td>
            </tr>
            </tbody>
        </table>
    </div>

    <form th:action="@{/missions/new/stations}" method="post" class="text-center mb-3">
        <label for="stationId" class="form-label small me-2">Id stacji:</label>
        <input id="stationId" name="stationId" type="text"
               class="form-control form-control-sm d-inline-block w-auto"
               placeholder="Nr">
        <button id="nextButton" type="submit" class="btn btn-success button ms-2" disabled>
            Dalej
        </button>
    </form>

    <div class="d-flex justify-content-center">
        <ul class="pagination pagination-sm mb-0">
            <li class="page-item" th:classappend="${currentPage == 1} ? 'disabled'">
                <a class="page-link"
                   th:href="@{/missions/new/stations(page=${currentPage})}">
                    &laquo;
                </a>
            </li>
            <li class="page-item"
                th:each="i : ${#numbers.sequence(1, totalPages > 10 ? 10 : totalPages)}"
                th:classappend="${i == currentPage} ? 'active'">
                <a class="page-link"
                   th:href="@{/missions/new/stations(page=${i})}"
                   th:text="${i}">1</a>
            </li>
            <li class="page-item"
                th:classappend="${currentPage == totalPages} ? 'disabled'">
                <a class="page-link"
                   th:href="@{/missions/new/stations(page=${currentPage+1})}">
                    &raquo;
                </a>
            </li>
        </ul>
    </div>
</main>

<footer class="dark-blue" style="height:40px;"></footer>

<script>
    const stationInput = document.getElementById('stationId');
    const nextButton  = document.getElementById('nextButton');

    stationInput.addEventListener('input', () => {
        nextButton.disabled = stationInput.value.trim() === '';
    });
</script>

</body>
</html>
